# í”„ë¡œê·¸ëž˜ë¨¸ìŠ¤ Heap ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬

## ë¬¸ì œ ì„¤ëª…

í•˜ë“œë””ìŠ¤í¬ëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ìž‘ì—…ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìžˆìŠµë‹ˆë‹¤. ê°€ìž¥ ì¼ë°˜ì ì¸ ë°©ë²•ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

ì˜ˆë¥¼ë“¤ì–´

```
- 0ms ì‹œì ì— 3msê°€ ì†Œìš”ë˜ëŠ” Aìž‘ì—… ìš”ì²­
- 1ms ì‹œì ì— 9msê°€ ì†Œìš”ë˜ëŠ” Bìž‘ì—… ìš”ì²­
- 2ms ì‹œì ì— 6msê°€ ì†Œìš”ë˜ëŠ” Cìž‘ì—… ìš”ì²­
```

ì™€ ê°™ì€ ìš”ì²­ì´ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤. ì´ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤.

![](https://grepp-programmers.s3.amazonaws.com/files/production/b68eb5cec6/38dc6a53-2d21-4c72-90ac-f059729c51d5.png)

í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ë§Œì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ê°ê°ì˜ ìž‘ì—…ì„ ìš”ì²­ë°›ì€ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ ë©ë‹ˆë‹¤.  
![](https://grepp-programmers.s3.amazonaws.com/files/production/5e677b4646/90b91fde-cac4-42c1-98b8-8f8431c52dcf.png)

```
- A: 3ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ (ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 3ms)
- B: 1msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 3ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 12ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 11ms)
- C: 2msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 12ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 18ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 16ms)
```

ì´ ë•Œ ê° ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì€ 10ms(= (3 + 11 + 16) / 3)ê°€ ë©ë‹ˆë‹¤.
í•˜ì§€ë§Œ A â†’ C â†’ B ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ë©´

![](https://grepp-programmers.s3.amazonaws.com/files/production/9eb7c5a6f1/a6cff04d-86bb-4b5b-98bf-6359158940ac.png)

```
- A: 3ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 3ms)
- C: 2msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 3ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 9ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 7ms)
- B: 1msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 9ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 18ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 17ms)
```

ì´ë ‡ê²Œ A â†’ C â†’ Bì˜ ìˆœì„œë¡œ ì²˜ë¦¬í•˜ë©´ ê° ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì€ 9ms(= (3 + 7 + 17) / 3)ê°€ ë©ë‹ˆë‹¤.

ê° ìž‘ì—…ì— ëŒ€í•´ [ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œì , ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„]ì„ ë‹´ì€ 2ì°¨ì› ë°°ì—´ jobsê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì„ ê°€ìž¥ ì¤„ì´ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ í‰ê· ì´ ì–¼ë§ˆê°€ ë˜ëŠ”ì§€ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”. (ë‹¨, ì†Œìˆ˜ì  ì´í•˜ì˜ ìˆ˜ëŠ” ë²„ë¦½ë‹ˆë‹¤)

## ì œí•œ ì‚¬í•­

- jobsì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 500 ì´í•˜ìž…ë‹ˆë‹¤.
- jobsì˜ ê° í–‰ì€ í•˜ë‚˜ì˜ ìž‘ì—…ì— ëŒ€í•œ [ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œì , ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„] ìž…ë‹ˆë‹¤.
- ê° ìž‘ì—…ì— ëŒ€í•´ ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œê°„ì€ 0 ì´ìƒ 1,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê° ìž‘ì—…ì— ëŒ€í•´ ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„ì€ 1 ì´ìƒ 1,000 ì´í•˜ìž…ë‹ˆë‹¤.
- í•˜ë“œë””ìŠ¤í¬ê°€ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ìžˆì§€ ì•Šì„ ë•Œì—ëŠ” ë¨¼ì € ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìž‘ì—…ë¶€í„° ì²˜ë¦¬í•©ë‹ˆë‹¤.

## ë¬¸ì œ í’€ì´

ìš°ì„ ìˆœìœ„ íë¥¼ êµ¬í˜„

```swift
import Foundation

struct PriorityQueue {
    var queue: [[Int]] = []
    var isEmpty: Bool {
        return queue.isEmpty
    }

    func first() -> [Int]? {
        if queue.isEmpty {
            return nil
        }

        var minIndex = 0
        var minNum = 9999

        for (i, q) in queue.enumerated() {
            if q[1] < minNum {
                minIndex = i
                minNum = q[1]
            }
        }

        return queue[minIndex]
    }

    mutating func append(contentsOf arr: [[Int]]) {

        queue.append(contentsOf: arr)
    }

    mutating func removeFirst() {
        if queue.isEmpty {
            return
        }
        var minIndex = 0
        var minNum = 9999

        for (i, q) in queue.enumerated() {
            if q[1] < minNum {
                minIndex = i
                minNum = q[1]
            }
        }

        queue.remove(at: minIndex)
    }
}
```

> ì•½ê°„ì˜ ì•¼ë§¤ ã…Žã…Ž ðŸ˜…

```swift
var tmp = jobs
var waitingQueue = PriorityQueue()
var answer: Int = 0
var sec: Int = 0
```

answer : ìž‘ì—…ì‹œê°„ì„ ê³„ì‚°í•˜ëŠ” ë³€ìˆ˜
sec : ì‹œê°„ì´ˆë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

```swift
while true {

    if waitingQueue.isEmpty && tmp.isEmpty {
        break
    }
    waitingQueue.append(contentsOf: tmp.filter({ (a1) -> Bool in
        return a1[0] <= sec
    }))

    tmp = tmp.filter({ (a1) -> Bool in
        return a1[0] > sec
    })

    if let first = waitingQueue.first() {
        if first[0] <= sec {
            answer += sec + first[1] - first[0]
            waitingQueue.removeFirst()
            sec += first[1]
        }
        else {
            sec += 1
        }
    }
    else {
        sec += 1
    }
}
```

ìž‘ì—…ì€ ë¬´í•œ ë£¨í”„ë¥¼ ëŒê²Œ ë˜ë©° waintingQueueì™€ ë‚¨ì•„ìžˆëŠ” ìž‘ì—… ëª¨ë‘ ë¹„ì–´ìžˆê²Œ ë˜ë©´ ì¢…ë£Œëœë‹¤.

secëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 1ì´ˆì”© ì¦ê°€í•˜ë©° ê²½ê³¼ëœ ì‹œê°„ë³´ë‹¤ ìš”ì²­ëœ ì‹œê°„ì´ ë¹ ë¥¸ ìž‘ì—…ì˜ ê²½ìš° waitingQueueë¡œ ë„˜ì–´ê°€ê²Œ ëœë‹¤.

waitingQueueì—ì„œ firstë¡œ ìžˆëŠ” ìž‘ì—…ì˜ ê²½ìš° ê²½ê³¼ëœ ì‹œê°„ë³´ë‹¤ ìš”ì²­ëœ ì‹œê°„ì´ ë¹ ë¥¸ ê²½ìš° í˜„ìž¬ ì‹œê°„ê³¼ ìž‘ì—…ì´ ê²½ê³¼ë˜ëŠ” ì‹œê°„ì„ ë”í•´ì£¼ê³  ìž‘ì—…ì´ ìš”ì²­ëœ ì‹œê°„ì„ ë¹¼ì£¼ì–´ ëŒ€ê¸°ì‹œê°„ê³¼ ìˆ˜í–‰ì‹œê°„ì„ í•©í•œ ê°’ êµ¬í•˜ê³  í˜„ìž¬ì‹œê°„ì— ìˆ˜í–‰ì‹œê°„ì„ ë”í•´ì¤€ë‹¤.

ë§Œì•½ ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” 1ì´ˆê°€ ì¦ê°€í•˜ê²Œ ëœë‹¤.

waitingQueue
